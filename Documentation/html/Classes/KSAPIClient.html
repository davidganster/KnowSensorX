<!DOCTYPE HTML>
<html>
	<head>
		<meta http-equiv="Content-Type" content="html/html; charset=utf-8" />
		<title>KSAPIClient Class Reference</title>
		<meta id="xcode-display" name="xcode-display" content="render"/>
		<link rel="stylesheet" type="text/css" href="../css/styles.css" media="all" />
		<link rel="stylesheet" type="text/css" media="print" href="../css/stylesPrint.css" />
		<meta name="generator" content="appledoc 2.2 (build 963)" />
	</head>
	<body>
		<header id="top_header">
			<div id="library" class="hideInXcode">
				<h1><a id="libraryTitle" href="../index.html">KnowSensor X </a></h1>
				<a id="developerHome" href="../index.html">David Ganster</a>
			</div>
			
			<div id="title" role="banner">
				<h1 class="hideInXcode">KSAPIClient Class Reference</h1>
			</div>
			<ul id="headerButtons" role="toolbar">
				<li id="toc_button">
					<button aria-label="Show Table of Contents" role="checkbox" class="open" id="table_of_contents"><span class="disclosure"></span>Table of Contents</button>
				</li>
				<li id="jumpto_button" role="navigation">
					<select id="jumpTo">
	<option value="top">Jump To&#133;</option>
	
	<option value="overview">Overview</option>
	
	
	
	
	<option value="tasks">Tasks</option>
	
	
	
	
	
	<option value="properties">Properties</option>
	
	<option value="//api/name/checkForReachability">&nbsp;&nbsp;&nbsp;&nbsp;checkForReachability</option>
	
	<option value="//api/name/client">&nbsp;&nbsp;&nbsp;&nbsp;client</option>
	
	<option value="//api/name/serverReachable">&nbsp;&nbsp;&nbsp;&nbsp;serverReachable</option>
	
	
	
	
	<option value="class_methods">Class Methods</option>
	
	<option value="//api/name/sharedClient">&nbsp;&nbsp;&nbsp;&nbsp;+ sharedClient</option>
	
	
	
	
	<option value="instance_methods">Instance Methods</option>
	
	<option value="//api/name/checkReachabilityWithTimeInterval:">&nbsp;&nbsp;&nbsp;&nbsp;- checkReachabilityWithTimeInterval:</option>
	
	<option value="//api/name/createProject:success:failure:">&nbsp;&nbsp;&nbsp;&nbsp;- createProject:success:failure:</option>
	
	<option value="//api/name/dictionaryFromEvent:serializationError:">&nbsp;&nbsp;&nbsp;&nbsp;- dictionaryFromEvent:serializationError:</option>
	
	<option value="//api/name/init">&nbsp;&nbsp;&nbsp;&nbsp;- init</option>
	
	<option value="//api/name/loadActiveActivity:failure:">&nbsp;&nbsp;&nbsp;&nbsp;- loadActiveActivity:failure:</option>
	
	<option value="//api/name/loadAllActivities:failure:">&nbsp;&nbsp;&nbsp;&nbsp;- loadAllActivities:failure:</option>
	
	<option value="//api/name/loadProjectsWithSuccess:failure:">&nbsp;&nbsp;&nbsp;&nbsp;- loadProjectsWithSuccess:failure:</option>
	
	<option value="//api/name/sendEvent:finished:">&nbsp;&nbsp;&nbsp;&nbsp;- sendEvent:finished:</option>
	
	<option value="//api/name/sendGetFocusEvent:finished:">&nbsp;&nbsp;&nbsp;&nbsp;- sendGetFocusEvent:finished:</option>
	
	<option value="//api/name/sendLoseFocusEvent:finished:">&nbsp;&nbsp;&nbsp;&nbsp;- sendLoseFocusEvent:finished:</option>
	
	<option value="//api/name/sendUserIdleEndEvent:finished:">&nbsp;&nbsp;&nbsp;&nbsp;- sendUserIdleEndEvent:finished:</option>
	
	<option value="//api/name/sendUserIdleStartEvent:finished:">&nbsp;&nbsp;&nbsp;&nbsp;- sendUserIdleStartEvent:finished:</option>
	
	<option value="//api/name/startCheckingForServerReachability">&nbsp;&nbsp;&nbsp;&nbsp;- startCheckingForServerReachability</option>
	
	<option value="//api/name/startRecordingActivity:success:failure:">&nbsp;&nbsp;&nbsp;&nbsp;- startRecordingActivity:success:failure:</option>
	
	<option value="//api/name/stopCheckingForServerReachability">&nbsp;&nbsp;&nbsp;&nbsp;- stopCheckingForServerReachability</option>
	
	<option value="//api/name/stopRecordingActivity:success:failure:">&nbsp;&nbsp;&nbsp;&nbsp;- stopRecordingActivity:success:failure:</option>
	
	<option value="//api/name/uploadEvent:toPath:finished:">&nbsp;&nbsp;&nbsp;&nbsp;- uploadEvent:toPath:finished:</option>
	
	
	
</select>
				</li>
			</ul>
		</header>
		<nav id="tocContainer" class="isShowingTOC">
			<ul id="toc" role="tree">
				
<li role="treeitem"><span class="nodisclosure"></span><span class="sectionName"><a href="#overview">Overview</a></span></li>




<li role="treeitem" id="task_treeitem"><span class="nodisclosure"></span><span class="sectionName"><a href="#tasks">Tasks</a></span><ul>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#task_Private methods">Private methods</a></span></li>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#task_Helper">Helper</a></span></li>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#task_Extension Methods">Extension Methods</a></span></li>
	
</ul></li>





<li role="treeitem" class="children"><span class="disclosure"></span><span class="sectionName"><a href="#properties">Properties</a></span><ul>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/checkForReachability">checkForReachability</a></span></li>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/client">client</a></span></li>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/serverReachable">serverReachable</a></span></li>
	
</ul></li>



<li role="treeitem" class="children"><span class="disclosure"></span><span class="sectionName"><a href="#class_methods">Class Methods</a></span><ul>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/sharedClient">sharedClient</a></span></li>
	
</ul></li>



<li role="treeitem" class="children"><span class="disclosure"></span><span class="sectionName"><a href="#instance_methods">Instance Methods</a></span><ul>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/checkReachabilityWithTimeInterval:">checkReachabilityWithTimeInterval:</a></span></li>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/createProject:success:failure:">createProject:success:failure:</a></span></li>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/dictionaryFromEvent:serializationError:">dictionaryFromEvent:serializationError:</a></span></li>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/init">init</a></span></li>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/loadActiveActivity:failure:">loadActiveActivity:failure:</a></span></li>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/loadAllActivities:failure:">loadAllActivities:failure:</a></span></li>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/loadProjectsWithSuccess:failure:">loadProjectsWithSuccess:failure:</a></span></li>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/sendEvent:finished:">sendEvent:finished:</a></span></li>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/sendGetFocusEvent:finished:">sendGetFocusEvent:finished:</a></span></li>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/sendLoseFocusEvent:finished:">sendLoseFocusEvent:finished:</a></span></li>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/sendUserIdleEndEvent:finished:">sendUserIdleEndEvent:finished:</a></span></li>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/sendUserIdleStartEvent:finished:">sendUserIdleStartEvent:finished:</a></span></li>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/startCheckingForServerReachability">startCheckingForServerReachability</a></span></li>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/startRecordingActivity:success:failure:">startRecordingActivity:success:failure:</a></span></li>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/stopCheckingForServerReachability">stopCheckingForServerReachability</a></span></li>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/stopRecordingActivity:success:failure:">stopRecordingActivity:success:failure:</a></span></li>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/uploadEvent:toPath:finished:">uploadEvent:toPath:finished:</a></span></li>
	
</ul></li>


			</ul>
		</nav>
		<article>
			<div id="contents" class="isShowingTOC" role="main">
				<a title="KSAPIClient Class Reference" name="top"></a>
				<div class="main-navigation navigation-top">
					<ul>
	<li><a href="../index.html">Index</a></li>
	<li><a href="../hierarchy.html">Hierarchy</a></li>
</ul>
				</div>
				<div id="header">
					<div class="section-header">
						<h1 class="title title-header">KSAPIClient Class Reference</h1>
					</div>		
				</div>
				<div id="container">	
					
					<div class="section section-specification"><table cellspacing="0"><tbody>
						<tr>
	<td class="specification-title">Inherits from</td>
	<td class="specification-value">NSObject</td>
</tr><tr>
	<td class="specification-title">Declared in</td>
	<td class="specification-value">KSAPIClient.h<br />KSAPIClient.m</td>
</tr>
						</tbody></table></div>
					
                    
                    
					
					<div class="section section-overview">
						<a title="Overview" name="overview"></a>
						<h2 class="subtitle subtitle-overview">Overview</h2>
						<p>This class provides access to the KnowServer&rsquo;s API, using a block-based
approach to handle responses for the caller.
All methods that push data to the server have block-parameters for both
success and failure, giving the caller an easy way to handle errors.
The KSAPIClient knows about the underlying data model (<a href="../Classes/KSActivity.html">KSActivity</a>, <a href="../Classes/KSEvent.html">KSEvent</a>, <a href="../Classes/KSProject.html">KSProject</a>),
and parses the response on its own, therefore providing a very high-level
interface to the server.
Additionally, it can check if the server is reachable at the moment, and
will emit a notification if the server status changes.</p>
					</div>
					
					
					
					
					
					<div class="section section-tasks">
						<a title="Tasks" name="tasks"></a>
						<h2 class="subtitle subtitle-tasks">Tasks</h2>
						
						
						
						<h3 class="subsubtitle task-title">Other Methods</h3>

						<ul class="task-list">
							<li>
	<span class="tooltip">
		<code><a href="#//api/name/serverReachable">&nbsp;&nbsp;serverReachable</a></code>
	</span>
	<span class="task-item-suffix">property</span>
	
</li><li>
	<span class="tooltip">
		<code><a href="#//api/name/sharedClient">+&nbsp;sharedClient</a></code>
	</span>
	
	
</li><li>
	<span class="tooltip">
		<code><a href="#//api/name/startCheckingForServerReachability">&ndash;&nbsp;startCheckingForServerReachability</a></code>
	</span>
	
	
</li><li>
	<span class="tooltip">
		<code><a href="#//api/name/stopCheckingForServerReachability">&ndash;&nbsp;stopCheckingForServerReachability</a></code>
	</span>
	
	
</li><li>
	<span class="tooltip">
		<code><a href="#//api/name/loadProjectsWithSuccess:failure:">&ndash;&nbsp;loadProjectsWithSuccess:failure:</a></code>
	</span>
	
	
</li><li>
	<span class="tooltip">
		<code><a href="#//api/name/createProject:success:failure:">&ndash;&nbsp;createProject:success:failure:</a></code>
	</span>
	
	
</li><li>
	<span class="tooltip">
		<code><a href="#//api/name/loadAllActivities:failure:">&ndash;&nbsp;loadAllActivities:failure:</a></code>
	</span>
	
	
</li><li>
	<span class="tooltip">
		<code><a href="#//api/name/loadActiveActivity:failure:">&ndash;&nbsp;loadActiveActivity:failure:</a></code>
	</span>
	
	
</li><li>
	<span class="tooltip">
		<code><a href="#//api/name/startRecordingActivity:success:failure:">&ndash;&nbsp;startRecordingActivity:success:failure:</a></code>
	</span>
	
	
</li><li>
	<span class="tooltip">
		<code><a href="#//api/name/stopRecordingActivity:success:failure:">&ndash;&nbsp;stopRecordingActivity:success:failure:</a></code>
	</span>
	
	
</li><li>
	<span class="tooltip">
		<code><a href="#//api/name/sendEvent:finished:">&ndash;&nbsp;sendEvent:finished:</a></code>
	</span>
	
	
</li><li>
	<span class="tooltip">
		<code><a href="#//api/name/sendGetFocusEvent:finished:">&ndash;&nbsp;sendGetFocusEvent:finished:</a></code>
	</span>
	
	
</li><li>
	<span class="tooltip">
		<code><a href="#//api/name/sendLoseFocusEvent:finished:">&ndash;&nbsp;sendLoseFocusEvent:finished:</a></code>
	</span>
	
	
</li><li>
	<span class="tooltip">
		<code><a href="#//api/name/sendUserIdleStartEvent:finished:">&ndash;&nbsp;sendUserIdleStartEvent:finished:</a></code>
	</span>
	
	
</li><li>
	<span class="tooltip">
		<code><a href="#//api/name/sendUserIdleEndEvent:finished:">&ndash;&nbsp;sendUserIdleEndEvent:finished:</a></code>
	</span>
	
	
</li>
						</ul>
						
						
						<a title="Private methods" name="task_Private methods"></a>
						<h3 class="subsubtitle task-title">Private methods</h3>

						<ul class="task-list">
							<li>
	<span class="tooltip">
		<code><a href="#//api/name/init">&ndash;&nbsp;init</a></code>
	</span>
	
	
</li><li>
	<span class="tooltip">
		<code><a href="#//api/name/uploadEvent:toPath:finished:">&ndash;&nbsp;uploadEvent:toPath:finished:</a></code>
	</span>
	
	
</li><li>
	<span class="tooltip">
		<code><a href="#//api/name/checkReachabilityWithTimeInterval:">&ndash;&nbsp;checkReachabilityWithTimeInterval:</a></code>
	</span>
	
	
</li>
						</ul>
						
						
						<a title="Helper" name="task_Helper"></a>
						<h3 class="subsubtitle task-title">Helper</h3>

						<ul class="task-list">
							<li>
	<span class="tooltip">
		<code><a href="#//api/name/dictionaryFromEvent:serializationError:">&ndash;&nbsp;dictionaryFromEvent:serializationError:</a></code>
	</span>
	
	
</li>
						</ul>
						
						
						<a title="Extension Methods" name="task_Extension Methods"></a>
						<h3 class="subsubtitle task-title">Extension Methods</h3>

						<ul class="task-list">
							<li>
	<span class="tooltip">
		<code><a href="#//api/name/client">&nbsp;&nbsp;client</a></code>
	</span>
	<span class="task-item-suffix">property</span>
	
</li><li>
	<span class="tooltip">
		<code><a href="#//api/name/checkForReachability">&nbsp;&nbsp;checkForReachability</a></code>
	</span>
	<span class="task-item-suffix">property</span>
	
</li>
						</ul>
						
					</div>
					
					
					
					
					
					<div class="section section-methods">
						<a title="Properties" name="properties"></a>
						<h2 class="subtitle subtitle-methods">Properties</h2>
						
						<div class="section-method">
	<a name="//api/name/checkForReachability" title="checkForReachability"></a>
	<h3 class="subsubtitle method-title">checkForReachability</h3>
	
	
	
	<div class="method-subsection brief-description">
		<p>Indicates if the API Client should continue to check for reachability on its own.</p>
	</div>		
	
    

	<div class="method-subsection method-declaration"><code>@property (nonatomic, assign) BOOL checkForReachability</code></div>

    
	
	
	
	
	
	
	
	
	
	
	
	
	
	<div class="method-subsection declared-in-section">
		<h4 class="method-subtitle">Declared In</h4>
		<code class="declared-in-ref">KSAPIClient.m</code><br />
	</div>				
	
	
</div>
						
						<div class="section-method">
	<a name="//api/name/client" title="client"></a>
	<h3 class="subsubtitle method-title">client</h3>
	
	
	
	<div class="method-subsection brief-description">
		<p>Private property for storing the shared instance&rsquo;s AFNetworking client.</p>
	</div>		
	
    

	<div class="method-subsection method-declaration"><code>@property (nonatomic, strong) AFHTTPClient *client</code></div>

    
	
	
	
	
	
	
	
	
	
	
	
	
	
	<div class="method-subsection declared-in-section">
		<h4 class="method-subtitle">Declared In</h4>
		<code class="declared-in-ref">KSAPIClient.m</code><br />
	</div>				
	
	
</div>
						
						<div class="section-method">
	<a name="//api/name/serverReachable" title="serverReachable"></a>
	<h3 class="subsubtitle method-title">serverReachable</h3>
	
	
	
	<div class="method-subsection brief-description">
		<p>Indicates whether or not the server is reachable at the moment.
Will update whenever a message has been sent succesfully/with an error.</p>
	</div>		
	
    

	<div class="method-subsection method-declaration"><code>@property (nonatomic, assign, readonly) BOOL serverReachable</code></div>

    
	
	
	
	
	
	
	
	
	
	
	
	
	
	<div class="method-subsection declared-in-section">
		<h4 class="method-subtitle">Declared In</h4>
		<code class="declared-in-ref">KSAPIClient.h</code><br />
	</div>				
	
	
</div>
						
					</div>
					
					
					
					<div class="section section-methods">
						<a title="Class Methods" name="class_methods"></a>
						<h2 class="subtitle subtitle-methods">Class Methods</h2>
						
						<div class="section-method">
	<a name="//api/name/sharedClient" title="sharedClient"></a>
	<h3 class="subsubtitle method-title">sharedClient</h3>
	
	
	
	<div class="method-subsection brief-description">
		<p>Singleton-Accessor for the shared object. Only work through this object, don&rsquo;t create your own!</p>
	</div>		
	
    

	<div class="method-subsection method-declaration"><code>+ (KSAPIClient *)sharedClient</code></div>

    
	
	
	
	<div class="method-subsection return">
		<h4 class="method-subtitle parameter-title">Return Value</h4>
		<p>The shared <a href="#//api/name/client">client</a> object.</p>
	</div>
	
	
	
	
	
	
	
	
	
	
	
	<div class="method-subsection declared-in-section">
		<h4 class="method-subtitle">Declared In</h4>
		<code class="declared-in-ref">KSAPIClient.h</code><br />
	</div>				
	
	
</div>
						
					</div>
					
					
					
					<div class="section section-methods">
						<a title="Instance Methods" name="instance_methods"></a>
						<h2 class="subtitle subtitle-methods">Instance Methods</h2>
						
						<div class="section-method">
	<a name="//api/name/checkReachabilityWithTimeInterval:" title="checkReachabilityWithTimeInterval:"></a>
	<h3 class="subsubtitle method-title">checkReachabilityWithTimeInterval:</h3>
	
	
	
	<div class="method-subsection brief-description">
		<p>Private method that periodically checks reachability. Will send a notification when the notification status changes.</p>
	</div>		
	
    

	<div class="method-subsection method-declaration"><code>- (void)checkReachabilityWithTimeInterval:(NSTimeInterval)<em>interval</em></code></div>

    
	
	<div class="method-subsection arguments-section parameters">
		<h4 class="method-subtitle parameter-title">Parameters</h4>
		
		<dl class="argument-def parameter-def">
			<dt><em>interval</em></dt>
			<dd><p>Time to start the next check after receiving a response from the server.</p></dd>
		</dl>
		
	</div>
	
	
	
	
	
	
	
	
	
	
	
	
	
	<div class="method-subsection declared-in-section">
		<h4 class="method-subtitle">Declared In</h4>
		<code class="declared-in-ref">KSAPIClient.m</code><br />
	</div>				
	
	
</div>
						
						<div class="section-method">
	<a name="//api/name/createProject:success:failure:" title="createProject:success:failure:"></a>
	<h3 class="subsubtitle method-title">createProject:success:failure:</h3>
	
	
	
	<div class="method-subsection brief-description">
		<p>Asynchronously creates a new project on the server. In case the call was successful, the success block will be called. Otherwise, the failure block will be executed with the encountered error as parameter.</p>
	</div>		
	
    

	<div class="method-subsection method-declaration"><code>- (void)createProject:(KSProject *)<em>project</em> success:(void ( ^ ) ( NSString *newProjectID ))<em>success</em> failure:(void ( ^ ) ( NSError *error ))<em>failure</em></code></div>

    
	
	<div class="method-subsection arguments-section parameters">
		<h4 class="method-subtitle parameter-title">Parameters</h4>
		
		<dl class="argument-def parameter-def">
			<dt><em>project</em></dt>
			<dd><p>The project to be created on the server. The APIClient will convert the <a href="../Classes/KSProject.html">KSProject</a> object into a suitable JSON format. project.projectID MUST be nil, as the server will create and return the id to be used (see success for more info)</p></dd>
		</dl>
		
		<dl class="argument-def parameter-def">
			<dt><em>success</em></dt>
			<dd><p>The block that will be called when the call has successfully returned. newProjectID is returned by the server for use with the given <a href="../Classes/KSProject.html">KSProject</a> object.</p></dd>
		</dl>
		
		<dl class="argument-def parameter-def">
			<dt><em>failure</em></dt>
			<dd><p>The block that will be called in case the call was unsuccessful. The NSError will contain an error generated by AFNetworking.</p></dd>
		</dl>
		
	</div>
	
	
	
	
	
	
	
	
	
	
	
	
	
	<div class="method-subsection declared-in-section">
		<h4 class="method-subtitle">Declared In</h4>
		<code class="declared-in-ref">KSAPIClient.h</code><br />
	</div>				
	
	
</div>
						
						<div class="section-method">
	<a name="//api/name/dictionaryFromEvent:serializationError:" title="dictionaryFromEvent:serializationError:"></a>
	<h3 class="subsubtitle method-title">dictionaryFromEvent:serializationError:</h3>
	
	
	
	<div class="method-subsection brief-description">
		<p>Helper method to export the given event into a representation that is recognized by the server.
The result of the &lsquo;dictRepresentation&rsquo; message sent to the event will be base64 encoded and
set for the &lsquo;data&rsquo; key in the resulting dictionary.</p>
	</div>		
	
    

	<div class="method-subsection method-declaration"><code>- (NSDictionary *)dictionaryFromEvent:(KSEvent *)<em>event</em> serializationError:(NSError **)<em>error</em></code></div>

    
	
	<div class="method-subsection arguments-section parameters">
		<h4 class="method-subtitle parameter-title">Parameters</h4>
		
		<dl class="argument-def parameter-def">
			<dt><em>event</em></dt>
			<dd><p>The event to be exported.</p></dd>
		</dl>
		
		<dl class="argument-def parameter-def">
			<dt><em>error</em></dt>
			<dd><p>Pointer to the error that occurred during export. Nil if export went without problems.</p></dd>
		</dl>
		
	</div>
	
	
	
	<div class="method-subsection return">
		<h4 class="method-subtitle parameter-title">Return Value</h4>
		<p>The event, exported into a dictionary form that the server can parse (after being serialized to a JSON).</p>
	</div>
	
	
	
	
	
	
	
	
	
	
	
	<div class="method-subsection declared-in-section">
		<h4 class="method-subtitle">Declared In</h4>
		<code class="declared-in-ref">KSAPIClient.m</code><br />
	</div>				
	
	
</div>
						
						<div class="section-method">
	<a name="//api/name/init" title="init"></a>
	<h3 class="subsubtitle method-title">init</h3>
	
	
	
	<div class="method-subsection brief-description">
		<p>Initializes a new instance of KSAPIClient. Do not call this method, but use the
singleton-accessor instead (<a href="#//api/name/sharedClient"><code>sharedClient</code></a>).</p>
	</div>		
	
    

	<div class="method-subsection method-declaration"><code>- (id)init</code></div>

    
	
	
	
	<div class="method-subsection return">
		<h4 class="method-subtitle parameter-title">Return Value</h4>
		<p>The newly initialized KSAPIClient object.</p>
	</div>
	
	
	
	
	
	
	
	
	
	
	
	<div class="method-subsection declared-in-section">
		<h4 class="method-subtitle">Declared In</h4>
		<code class="declared-in-ref">KSAPIClient.m</code><br />
	</div>				
	
	
</div>
						
						<div class="section-method">
	<a name="//api/name/loadActiveActivity:failure:" title="loadActiveActivity:failure:"></a>
	<h3 class="subsubtitle method-title">loadActiveActivity:failure:</h3>
	
	
	
	<div class="method-subsection brief-description">
		<p>Asynchronously loads the currently recording activity from the server. In case the call was successful, the success block will be called with the returned <a href="../Classes/KSActivity.html">KSActivity</a> as parameter. Otherwise, the failure block will be executed with the encountered error as parameter.</p>
	</div>		
	
    

	<div class="method-subsection method-declaration"><code>- (void)loadActiveActivity:(void ( ^ ) ( KSActivity *currentActivity ))<em>success</em> failure:(void ( ^ ) ( NSError *error ))<em>failure</em></code></div>

    
	
	<div class="method-subsection arguments-section parameters">
		<h4 class="method-subtitle parameter-title">Parameters</h4>
		
		<dl class="argument-def parameter-def">
			<dt><em>success</em></dt>
			<dd><p>The block that will be called when the call has successfully returned. currentActivity will be a newly created <a href="../Classes/KSActivity.html">KSActivity</a> object containing the information that was extracted from the JSON response.</p></dd>
		</dl>
		
		<dl class="argument-def parameter-def">
			<dt><em>failure</em></dt>
			<dd><p>The block that will be called in case the call was unsuccessful. The NSError will contain an error generated by AFNetworking.</p></dd>
		</dl>
		
	</div>
	
	
	
	
	
	
	
	
	
	
	
	
	
	<div class="method-subsection declared-in-section">
		<h4 class="method-subtitle">Declared In</h4>
		<code class="declared-in-ref">KSAPIClient.h</code><br />
	</div>				
	
	
</div>
						
						<div class="section-method">
	<a name="//api/name/loadAllActivities:failure:" title="loadAllActivities:failure:"></a>
	<h3 class="subsubtitle method-title">loadAllActivities:failure:</h3>
	
	
	
	<div class="method-subsection brief-description">
		<p>Asynchronously loads all activities from &lsquo;distant past&rsquo; to &lsquo;now&rsquo; . In case the call was successful, the success block will be called. Otherwise, the failure block will be executed with the encountered error as parameter.</p>
	</div>		
	
    

	<div class="method-subsection method-declaration"><code>- (void)loadAllActivities:(void ( ^ ) ( NSArray *activities ))<em>success</em> failure:(void ( ^ ) ( NSError *error ))<em>failure</em></code></div>

    
	
	<div class="method-subsection arguments-section parameters">
		<h4 class="method-subtitle parameter-title">Parameters</h4>
		
		<dl class="argument-def parameter-def">
			<dt><em>success</em></dt>
			<dd><p>The block that will be called when the call has successfully returned. The array of all received KSAcitivites is passed as parameter.</p></dd>
		</dl>
		
		<dl class="argument-def parameter-def">
			<dt><em>failure</em></dt>
			<dd><p>The block that will be called in case the call was unsuccessful. The NSError will contain an error generated by AFNetworking.</p></dd>
		</dl>
		
	</div>
	
	
	
	
	
	
	
	
	
	
	
	
	
	<div class="method-subsection declared-in-section">
		<h4 class="method-subtitle">Declared In</h4>
		<code class="declared-in-ref">KSAPIClient.h</code><br />
	</div>				
	
	
</div>
						
						<div class="section-method">
	<a name="//api/name/loadProjectsWithSuccess:failure:" title="loadProjectsWithSuccess:failure:"></a>
	<h3 class="subsubtitle method-title">loadProjectsWithSuccess:failure:</h3>
	
	
	
	<div class="method-subsection brief-description">
		<p>Asynchronously loads all projects and returns them as a parameter in the success-block if the call has been successful.
    In case of an error, the failure block will be called with an NSError object.</p>
	</div>		
	
    

	<div class="method-subsection method-declaration"><code>- (void)loadProjectsWithSuccess:(void ( ^ ) ( NSArray *projects ))<em>success</em> failure:(void ( ^ ) ( NSError *error ))<em>failure</em></code></div>

    
	
	<div class="method-subsection arguments-section parameters">
		<h4 class="method-subtitle parameter-title">Parameters</h4>
		
		<dl class="argument-def parameter-def">
			<dt><em>success</em></dt>
			<dd><p>The block that will be called when the call has successfully returned. The NSArray will contain <a href="../Classes/KSProject.html">KSProject</a> objects.</p></dd>
		</dl>
		
		<dl class="argument-def parameter-def">
			<dt><em>failure</em></dt>
			<dd><p>The block that will be called in case the call was unsuccessful. The NSError will contain an error generated by AFNetworking.</p></dd>
		</dl>
		
	</div>
	
	
	
	
	
	
	
	
	
	
	
	
	
	<div class="method-subsection declared-in-section">
		<h4 class="method-subtitle">Declared In</h4>
		<code class="declared-in-ref">KSAPIClient.h</code><br />
	</div>				
	
	
</div>
						
						<div class="section-method">
	<a name="//api/name/sendEvent:finished:" title="sendEvent:finished:"></a>
	<h3 class="subsubtitle method-title">sendEvent:finished:</h3>
	
	
	
	<div class="method-subsection brief-description">
		<p>Convenience API for sending a recorded Event to the server. The receiver object will decide how the event will be sent using one of the other public methods (sendGetFocusEvent, sendLoseFocusEvent, sendUserIdleStartEvent, sendUserIdleEndEvent).</p>
	</div>		
	
    

	<div class="method-subsection method-declaration"><code>- (void)sendEvent:(KSEvent *)<em>event</em> finished:(void ( ^ ) ( NSError *error ))<em>finishedBlock</em></code></div>

    
	
	<div class="method-subsection arguments-section parameters">
		<h4 class="method-subtitle parameter-title">Parameters</h4>
		
		<dl class="argument-def parameter-def">
			<dt><em>event</em></dt>
			<dd><p>The event to be sent to the server. It will be serialized into a JSON object. The finishedBlock will be called with the error, should the serialization fail.</p></dd>
		</dl>
		
		<dl class="argument-def parameter-def">
			<dt><em>finishedBlock</em></dt>
			<dd><p>The block to be executed when a response from the server has been received. It might contain an error if something went wrong.</p></dd>
		</dl>
		
	</div>
	
	
	
	
	
	
	
	
	
	
	
	
	
	<div class="method-subsection declared-in-section">
		<h4 class="method-subtitle">Declared In</h4>
		<code class="declared-in-ref">KSAPIClient.h</code><br />
	</div>				
	
	
</div>
						
						<div class="section-method">
	<a name="//api/name/sendGetFocusEvent:finished:" title="sendGetFocusEvent:finished:"></a>
	<h3 class="subsubtitle method-title">sendGetFocusEvent:finished:</h3>
	
	
	
	<div class="method-subsection brief-description">
		<p>API for sending a recorded FocusEvent to the server when an application GETS the focus</p>
	</div>		
	
    

	<div class="method-subsection method-declaration"><code>- (void)sendGetFocusEvent:(KSEvent *)<em>event</em> finished:(void ( ^ ) ( NSError *error ))<em>finishedBlock</em></code></div>

    
	
	<div class="method-subsection arguments-section parameters">
		<h4 class="method-subtitle parameter-title">Parameters</h4>
		
		<dl class="argument-def parameter-def">
			<dt><em>event</em></dt>
			<dd><p>The event to be sent to the server. It will be serialized into a JSON object. The finishedBlock will be called with the error, should the serialization fail.</p></dd>
		</dl>
		
		<dl class="argument-def parameter-def">
			<dt><em>finishedBlock</em></dt>
			<dd><p>The block to be executed when a response from the server has been received. It might contain an error if something went wrong.</p></dd>
		</dl>
		
	</div>
	
	
	
	
	
	
	
	
	
	
	
	
	
	<div class="method-subsection declared-in-section">
		<h4 class="method-subtitle">Declared In</h4>
		<code class="declared-in-ref">KSAPIClient.h</code><br />
	</div>				
	
	
</div>
						
						<div class="section-method">
	<a name="//api/name/sendLoseFocusEvent:finished:" title="sendLoseFocusEvent:finished:"></a>
	<h3 class="subsubtitle method-title">sendLoseFocusEvent:finished:</h3>
	
	
	
	<div class="method-subsection brief-description">
		<p>API for sending a recorded FocusEvent to the server when an application LOSES the focus</p>
	</div>		
	
    

	<div class="method-subsection method-declaration"><code>- (void)sendLoseFocusEvent:(KSEvent *)<em>event</em> finished:(void ( ^ ) ( NSError *error ))<em>finishedBlock</em></code></div>

    
	
	<div class="method-subsection arguments-section parameters">
		<h4 class="method-subtitle parameter-title">Parameters</h4>
		
		<dl class="argument-def parameter-def">
			<dt><em>event</em></dt>
			<dd><p>The event to be sent to the server. It will be serialized into a JSON object. The finishedBlock will be called with the error, should the serialization fail.</p></dd>
		</dl>
		
		<dl class="argument-def parameter-def">
			<dt><em>finishedBlock</em></dt>
			<dd><p>The block to be executed when a response from the server has been received. It might contain an error if something went wrong.</p></dd>
		</dl>
		
	</div>
	
	
	
	
	
	
	
	
	
	
	
	
	
	<div class="method-subsection declared-in-section">
		<h4 class="method-subtitle">Declared In</h4>
		<code class="declared-in-ref">KSAPIClient.h</code><br />
	</div>				
	
	
</div>
						
						<div class="section-method">
	<a name="//api/name/sendUserIdleEndEvent:finished:" title="sendUserIdleEndEvent:finished:"></a>
	<h3 class="subsubtitle method-title">sendUserIdleEndEvent:finished:</h3>
	
	
	
	<div class="method-subsection brief-description">
		<p>API for sending a recorded IdleEvent to the server when the user STOPS to idle.</p>
	</div>		
	
    

	<div class="method-subsection method-declaration"><code>- (void)sendUserIdleEndEvent:(KSEvent *)<em>event</em> finished:(void ( ^ ) ( NSError *error ))<em>finishedBlock</em></code></div>

    
	
	<div class="method-subsection arguments-section parameters">
		<h4 class="method-subtitle parameter-title">Parameters</h4>
		
		<dl class="argument-def parameter-def">
			<dt><em>event</em></dt>
			<dd><p>The event to be sent to the server. It will be serialized into a JSON object. The finishedBlock will be called with the error, should the serialization fail.</p></dd>
		</dl>
		
		<dl class="argument-def parameter-def">
			<dt><em>finishedBlock</em></dt>
			<dd><p>The block to be executed when a response from the server has been received. It might contain an error if something went wrong.</p></dd>
		</dl>
		
	</div>
	
	
	
	
	
	
	
	
	
	
	
	
	
	<div class="method-subsection declared-in-section">
		<h4 class="method-subtitle">Declared In</h4>
		<code class="declared-in-ref">KSAPIClient.h</code><br />
	</div>				
	
	
</div>
						
						<div class="section-method">
	<a name="//api/name/sendUserIdleStartEvent:finished:" title="sendUserIdleStartEvent:finished:"></a>
	<h3 class="subsubtitle method-title">sendUserIdleStartEvent:finished:</h3>
	
	
	
	<div class="method-subsection brief-description">
		<p>API for sending a recorded IdleEvent to the server when the user STARTS to idle</p>
	</div>		
	
    

	<div class="method-subsection method-declaration"><code>- (void)sendUserIdleStartEvent:(KSEvent *)<em>event</em> finished:(void ( ^ ) ( NSError *error ))<em>finishedBlock</em></code></div>

    
	
	<div class="method-subsection arguments-section parameters">
		<h4 class="method-subtitle parameter-title">Parameters</h4>
		
		<dl class="argument-def parameter-def">
			<dt><em>event</em></dt>
			<dd><p>The event to be sent to the server. It will be serialized into a JSON object. The finishedBlock will be called with the error, should the serialization fail.</p></dd>
		</dl>
		
		<dl class="argument-def parameter-def">
			<dt><em>finishedBlock</em></dt>
			<dd><p>The block to be executed when a response from the server has been received. It might contain an error if something went wrong.</p></dd>
		</dl>
		
	</div>
	
	
	
	
	
	
	
	
	
	
	
	
	
	<div class="method-subsection declared-in-section">
		<h4 class="method-subtitle">Declared In</h4>
		<code class="declared-in-ref">KSAPIClient.h</code><br />
	</div>				
	
	
</div>
						
						<div class="section-method">
	<a name="//api/name/startCheckingForServerReachability" title="startCheckingForServerReachability"></a>
	<h3 class="subsubtitle method-title">startCheckingForServerReachability</h3>
	
	
	
	<div class="method-subsection brief-description">
		<p>Tells the API Client to start checking whether the server is up or down.
Intervals between checks are chosen by the API Client itself and depend on whether the
server is down or up (checks are performed more frequently during downtimes).
Notifications are sent when the reachability status changes.
The emitted notification can be handled by observing <code>kKSNotificationKeyServerReachable</code>
and <code>kKSNotificationKeyServerUnreachable</code> on the default notification center.</p>
	</div>		
	
    

	<div class="method-subsection method-declaration"><code>- (void)startCheckingForServerReachability</code></div>

    
	
	
	
	
	
	
	
	
	
	
	
	
	
	<div class="method-subsection declared-in-section">
		<h4 class="method-subtitle">Declared In</h4>
		<code class="declared-in-ref">KSAPIClient.h</code><br />
	</div>				
	
	
</div>
						
						<div class="section-method">
	<a name="//api/name/startRecordingActivity:success:failure:" title="startRecordingActivity:success:failure:"></a>
	<h3 class="subsubtitle method-title">startRecordingActivity:success:failure:</h3>
	
	
	
	<div class="method-subsection brief-description">
		<p>Asynchronously sets the currently recording activity on the server to the given <a href="../Classes/KSActivity.html">KSActivity</a> object. In case the call was successful, the success block will be called. Otherwise, the failure block will be executed with the encountered error as parameter.</p>
	</div>		
	
    

	<div class="method-subsection method-declaration"><code>- (void)startRecordingActivity:(KSActivity *)<em>activity</em> success:(void ( ^ ) ( NSString *newActivityID ))<em>success</em> failure:(void ( ^ ) ( NSError *error ))<em>failure</em></code></div>

    
	
	<div class="method-subsection arguments-section parameters">
		<h4 class="method-subtitle parameter-title">Parameters</h4>
		
		<dl class="argument-def parameter-def">
			<dt><em>activity</em></dt>
			<dd><p>The activity object to be serialized and sent to the server. activity.activityID MUST be nil for this to work. The generated id will be returned from the server and passed in the success block.</p></dd>
		</dl>
		
		<dl class="argument-def parameter-def">
			<dt><em>success</em></dt>
			<dd><p>The block that will be called when the call has successfully returned. newActivityID is returned by the server for use with the given <a href="../Classes/KSActivity.html">KSActivity</a> object.</p></dd>
		</dl>
		
		<dl class="argument-def parameter-def">
			<dt><em>failure</em></dt>
			<dd><p>The block that will be called in case the call was unsuccessful. The NSError will contain an error generated by AFNetworking.</p></dd>
		</dl>
		
	</div>
	
	
	
	
	
	
	
	
	
	
	
	
	
	<div class="method-subsection declared-in-section">
		<h4 class="method-subtitle">Declared In</h4>
		<code class="declared-in-ref">KSAPIClient.h</code><br />
	</div>				
	
	
</div>
						
						<div class="section-method">
	<a name="//api/name/stopCheckingForServerReachability" title="stopCheckingForServerReachability"></a>
	<h3 class="subsubtitle method-title">stopCheckingForServerReachability</h3>
	
	
	
	<div class="method-subsection brief-description">
		<p>Tells the API Client to stop checking whether the server is up or down.</p>
	</div>		
	
    

	<div class="method-subsection method-declaration"><code>- (void)stopCheckingForServerReachability</code></div>

    
	
	
	
	
	
	
	
	<div class="method-subsection discussion-section">
		<h4 class="method-subtitle">Discussion</h4>
		<div class="note"><p><strong>Note:</strong> This does not stop notifications from different sources (all API calls will still generate down/up notifications)</p></div>
	</div>
	
	
	
	
	
	
	
	<div class="method-subsection declared-in-section">
		<h4 class="method-subtitle">Declared In</h4>
		<code class="declared-in-ref">KSAPIClient.h</code><br />
	</div>				
	
	
</div>
						
						<div class="section-method">
	<a name="//api/name/stopRecordingActivity:success:failure:" title="stopRecordingActivity:success:failure:"></a>
	<h3 class="subsubtitle method-title">stopRecordingActivity:success:failure:</h3>
	
	
	
	<div class="method-subsection brief-description">
		<p>Asynchronously stops the recording activity on the server using the given <a href="../Classes/KSActivity.html">KSActivity</a> object. The object&rsquo;s data has to match the currently active activity on the server. In case the call was successful, the success block will be called. Otherwise, the failure block will be executed with the encountered error as parameter.</p>
	</div>		
	
    

	<div class="method-subsection method-declaration"><code>- (void)stopRecordingActivity:(KSActivity *)<em>activity</em> success:(void ( ^ ) ( ))<em>success</em> failure:(void ( ^ ) ( NSError *error ))<em>failure</em></code></div>

    
	
	<div class="method-subsection arguments-section parameters">
		<h4 class="method-subtitle parameter-title">Parameters</h4>
		
		<dl class="argument-def parameter-def">
			<dt><em>activity</em></dt>
			<dd><p>The activity whose recording will be stopped. Has to match the currently recording activity.</p></dd>
		</dl>
		
		<dl class="argument-def parameter-def">
			<dt><em>success</em></dt>
			<dd><p>The block that will be called when the call has successfully returned. No parameters.</p></dd>
		</dl>
		
		<dl class="argument-def parameter-def">
			<dt><em>failure</em></dt>
			<dd><p>The block that will be called in case the call was unsuccessful. The NSError will contain an error generated by AFNetworking.</p></dd>
		</dl>
		
	</div>
	
	
	
	
	
	
	
	
	
	
	
	
	
	<div class="method-subsection declared-in-section">
		<h4 class="method-subtitle">Declared In</h4>
		<code class="declared-in-ref">KSAPIClient.h</code><br />
	</div>				
	
	
</div>
						
						<div class="section-method">
	<a name="//api/name/uploadEvent:toPath:finished:" title="uploadEvent:toPath:finished:"></a>
	<h3 class="subsubtitle method-title">uploadEvent:toPath:finished:</h3>
	
	
	
	<div class="method-subsection brief-description">
		<p>Internal method, should not be called from outside, use the convenience-wrappers (e.g. <a href="#//api/name/sendEvent:finished:">sendEvent:finished:</a> or more specifically, e.g.  sendIdleStartEvent:finished:) instead.</p>
	</div>		
	
    

	<div class="method-subsection method-declaration"><code>- (void)uploadEvent:(KSEvent *)<em>event</em> toPath:(NSString *)<em>path</em> finished:(void ( ^ ) ( NSError *error ))<em>finishedBlock</em></code></div>

    
	
	<div class="method-subsection arguments-section parameters">
		<h4 class="method-subtitle parameter-title">Parameters</h4>
		
		<dl class="argument-def parameter-def">
			<dt><em>event</em></dt>
			<dd><p>The event to be sent to the server. Must not be nil.</p></dd>
		</dl>
		
		<dl class="argument-def parameter-def">
			<dt><em>path</em></dt>
			<dd><p>The path to send the event to. Must not be nil.</p></dd>
		</dl>
		
		<dl class="argument-def parameter-def">
			<dt><em>finishedBlock</em></dt>
			<dd><p>The block to invoke when the call returns. The block will receive a non-nil NSError object as parameter, should the call fail.</p></dd>
		</dl>
		
	</div>
	
	
	
	
	
	
	
	
	
	
	
	
	
	<div class="method-subsection declared-in-section">
		<h4 class="method-subtitle">Declared In</h4>
		<code class="declared-in-ref">KSAPIClient.m</code><br />
	</div>				
	
	
</div>
						
					</div>
					
					
                    
                    
				</div>
				<div class="main-navigation navigation-bottom">
					<ul>
	<li><a href="../index.html">Index</a></li>
	<li><a href="../hierarchy.html">Hierarchy</a></li>
</ul>
				</div>
				<div id="footer">
					<hr />
					<div class="footer-copyright">
						<p><span class="copyright">&copy; 2014 David Ganster. All rights reserved. (Last updated: 2014-03-04)</span><br />
						
						<span class="generator">Generated by <a href="http://appledoc.gentlebytes.com">appledoc 2.2 (build 963)</a>.</span></p>
						
					</div>
				</div>
			</div>
		</article>
		<script type="text/javascript">
			function jumpToChange()
			{
				window.location.hash = this.options[this.selectedIndex].value;
			}
			
			function toggleTOC()
			{
				var contents = document.getElementById('contents');
				var tocContainer = document.getElementById('tocContainer');
				
				if (this.getAttribute('class') == 'open')
				{
					this.setAttribute('class', '');
					contents.setAttribute('class', '');
					tocContainer.setAttribute('class', '');
					
					window.name = "hideTOC";
				}
				else
				{
					this.setAttribute('class', 'open');
					contents.setAttribute('class', 'isShowingTOC');
					tocContainer.setAttribute('class', 'isShowingTOC');
					
					window.name = "";
				}
				return false;
			}
			
			function toggleTOCEntryChildren(e)
			{
				e.stopPropagation();
				var currentClass = this.getAttribute('class');
				if (currentClass == 'children') {
					this.setAttribute('class', 'children open');
				}
				else if (currentClass == 'children open') {
					this.setAttribute('class', 'children');
				}
				return false;
			}
			
			function tocEntryClick(e)
			{
				e.stopPropagation();
				return true;
			}
			
			function init()
			{
				var selectElement = document.getElementById('jumpTo');
				selectElement.addEventListener('change', jumpToChange, false);
				
				var tocButton = document.getElementById('table_of_contents');
				tocButton.addEventListener('click', toggleTOC, false);
				
				var taskTreeItem = document.getElementById('task_treeitem');
				if (taskTreeItem.getElementsByTagName('li').length > 0)
				{
					taskTreeItem.setAttribute('class', 'children');
					taskTreeItem.firstChild.setAttribute('class', 'disclosure');
				}
				
				var tocList = document.getElementById('toc');
				
				var tocEntries = tocList.getElementsByTagName('li');
				for (var i = 0; i < tocEntries.length; i++) {
					tocEntries[i].addEventListener('click', toggleTOCEntryChildren, false);
				}
				
				var tocLinks = tocList.getElementsByTagName('a');
				for (var i = 0; i < tocLinks.length; i++) {
					tocLinks[i].addEventListener('click', tocEntryClick, false);
				}
				
				if (window.name == "hideTOC") {
					toggleTOC.call(tocButton);
				}
			}
			
			window.onload = init;
			
			// If showing in Xcode, hide the TOC and Header
			if (navigator.userAgent.match(/xcode/i)) {
				document.getElementById("contents").className = "hideInXcode"
				document.getElementById("tocContainer").className = "hideInXcode"
				document.getElementById("top_header").className = "hideInXcode"
			}
			
		</script>
	</body>
</html>