<!DOCTYPE HTML>
<html>
	<head>
		<meta http-equiv="Content-Type" content="html/html; charset=utf-8" />
		<title>KSScreenshotGrabber Class Reference</title>
		<meta id="xcode-display" name="xcode-display" content="render"/>
		<link rel="stylesheet" type="text/css" href="../css/styles.css" media="all" />
		<link rel="stylesheet" type="text/css" media="print" href="../css/stylesPrint.css" />
		<meta name="generator" content="appledoc 2.2 (build 963)" />
	</head>
	<body>
		<header id="top_header">
			<div id="library" class="hideInXcode">
				<h1><a id="libraryTitle" href="../index.html">KnowSensor X </a></h1>
				<a id="developerHome" href="../index.html">David Ganster</a>
			</div>
			
			<div id="title" role="banner">
				<h1 class="hideInXcode">KSScreenshotGrabber Class Reference</h1>
			</div>
			<ul id="headerButtons" role="toolbar">
				<li id="toc_button">
					<button aria-label="Show Table of Contents" role="checkbox" class="open" id="table_of_contents"><span class="disclosure"></span>Table of Contents</button>
				</li>
				<li id="jumpto_button" role="navigation">
					<select id="jumpTo">
	<option value="top">Jump To&#133;</option>
	
	<option value="overview">Overview</option>
	
	
	
	
	<option value="tasks">Tasks</option>
	
	
	
	
	
	
	
	<option value="class_methods">Class Methods</option>
	
	<option value="//api/name/screenshotDataForApplication:scale:">&nbsp;&nbsp;&nbsp;&nbsp;+ screenshotDataForApplication:scale:</option>
	
	<option value="//api/name/takeScreenShotForWindowWithID:scale:">&nbsp;&nbsp;&nbsp;&nbsp;+ takeScreenShotForWindowWithID:scale:</option>
	
	<option value="//api/name/windowIDForAppName:">&nbsp;&nbsp;&nbsp;&nbsp;+ windowIDForAppName:</option>
	
	
	
	
	
</select>
				</li>
			</ul>
		</header>
		<nav id="tocContainer" class="isShowingTOC">
			<ul id="toc" role="tree">
				
<li role="treeitem"><span class="nodisclosure"></span><span class="sectionName"><a href="#overview">Overview</a></span></li>




<li role="treeitem" id="task_treeitem"><span class="nodisclosure"></span><span class="sectionName"><a href="#tasks">Tasks</a></span><ul>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#task_Private helpers">Private helpers</a></span></li>
	
</ul></li>







<li role="treeitem" class="children"><span class="disclosure"></span><span class="sectionName"><a href="#class_methods">Class Methods</a></span><ul>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/screenshotDataForApplication:scale:">screenshotDataForApplication:scale:</a></span></li>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/takeScreenShotForWindowWithID:scale:">takeScreenShotForWindowWithID:scale:</a></span></li>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/windowIDForAppName:">windowIDForAppName:</a></span></li>
	
</ul></li>




			</ul>
		</nav>
		<article>
			<div id="contents" class="isShowingTOC" role="main">
				<a title="KSScreenshotGrabber Class Reference" name="top"></a>
				<div class="main-navigation navigation-top">
					<ul>
	<li><a href="../index.html">Index</a></li>
	<li><a href="../hierarchy.html">Hierarchy</a></li>
</ul>
				</div>
				<div id="header">
					<div class="section-header">
						<h1 class="title title-header">KSScreenshotGrabber Class Reference</h1>
					</div>		
				</div>
				<div id="container">	
					
					<div class="section section-specification"><table cellspacing="0"><tbody>
						<tr>
	<td class="specification-title">Inherits from</td>
	<td class="specification-value">NSObject</td>
</tr><tr>
	<td class="specification-title">Declared in</td>
	<td class="specification-value">KSScreenshotGrabber.h<br />KSScreenshotGrabber.m</td>
</tr>
						</tbody></table></div>
					
                    
                    
					
					<div class="section section-overview">
						<a title="Overview" name="overview"></a>
						<h2 class="subtitle subtitle-overview">Overview</h2>
						<p>Helper class to easily retrieve screenshots in the correct format for the server.
Only has a single public method that returns an object of type <a href="../Classes/KSScreenshotData.html">KSScreenshotData</a>,
but can be extended very easily to return <code>NSImage</code> objects (an internal method that does this already exists).</p>
					</div>
					
					
					
					
					
					<div class="section section-tasks">
						<a title="Tasks" name="tasks"></a>
						<h2 class="subtitle subtitle-tasks">Tasks</h2>
						
						
						
						<h3 class="subsubtitle task-title">Other Methods</h3>

						<ul class="task-list">
							<li>
	<span class="tooltip">
		<code><a href="#//api/name/screenshotDataForApplication:scale:">+&nbsp;screenshotDataForApplication:scale:</a></code>
	</span>
	
	
</li>
						</ul>
						
						
						<a title="Private helpers" name="task_Private helpers"></a>
						<h3 class="subsubtitle task-title">Private helpers</h3>

						<ul class="task-list">
							<li>
	<span class="tooltip">
		<code><a href="#//api/name/windowIDForAppName:">+&nbsp;windowIDForAppName:</a></code>
	</span>
	
	
</li><li>
	<span class="tooltip">
		<code><a href="#//api/name/takeScreenShotForWindowWithID:scale:">+&nbsp;takeScreenShotForWindowWithID:scale:</a></code>
	</span>
	
	
</li>
						</ul>
						
					</div>
					
					
					
					
					
					
					
					<div class="section section-methods">
						<a title="Class Methods" name="class_methods"></a>
						<h2 class="subtitle subtitle-methods">Class Methods</h2>
						
						<div class="section-method">
	<a name="//api/name/screenshotDataForApplication:scale:" title="screenshotDataForApplication:scale:"></a>
	<h3 class="subsubtitle method-title">screenshotDataForApplication:scale:</h3>
	
	
	
	<div class="method-subsection brief-description">
		<p>Tries to detect the frontmost window of the given application and retrieves a screenshot
for it, embedding it inside a <a href="../Classes/KSScreenshotData.html">KSScreenshotData</a> object. The raw NSImage/NSData cannot be
accessed via this method.</p>
	</div>		
	
    

	<div class="method-subsection method-declaration"><code>+ (KSScreenshotData *)screenshotDataForApplication:(NSRunningApplication *)<em>application</em> scale:(CGFloat)<em>scale</em></code></div>

    
	
	<div class="method-subsection arguments-section parameters">
		<h4 class="method-subtitle parameter-title">Parameters</h4>
		
		<dl class="argument-def parameter-def">
			<dt><em>application</em></dt>
			<dd><p>The application for which the screenshot will be taken.</p></dd>
		</dl>
		
		<dl class="argument-def parameter-def">
			<dt><em>scale</em></dt>
			<dd><p>Scale for the screenshot - the original screenshot will be resized by this amount. Typically less or equal than one.</p></dd>
		</dl>
		
	</div>
	
	
	
	<div class="method-subsection return">
		<h4 class="method-subtitle parameter-title">Return Value</h4>
		<p>A fully initialized <a href="../Classes/KSScreenshotData.html">KSScreenshotData</a> object or nil, if the operation failed for some reason.</p>
	</div>
	
	
	
	
	
	
	
	
	
	
	
	<div class="method-subsection declared-in-section">
		<h4 class="method-subtitle">Declared In</h4>
		<code class="declared-in-ref">KSScreenshotGrabber.h</code><br />
	</div>				
	
	
</div>
						
						<div class="section-method">
	<a name="//api/name/takeScreenShotForWindowWithID:scale:" title="takeScreenShotForWindowWithID:scale:"></a>
	<h3 class="subsubtitle method-title">takeScreenShotForWindowWithID:scale:</h3>
	
	
	
	<div class="method-subsection brief-description">
		<p>Helper method that captures a screenshot for the given window ID, and
scales it down by the given scale factor.</p>
	</div>		
	
    

	<div class="method-subsection method-declaration"><code>+ (NSImage *)takeScreenShotForWindowWithID:(CGWindowID)<em>windowID</em> scale:(CGFloat)<em>scale</em></code></div>

    
	
	<div class="method-subsection arguments-section parameters">
		<h4 class="method-subtitle parameter-title">Parameters</h4>
		
		<dl class="argument-def parameter-def">
			<dt><em>windowID</em></dt>
			<dd><p>The window ID for which to capture a screenshot.</p></dd>
		</dl>
		
		<dl class="argument-def parameter-def">
			<dt><em>scale</em></dt>
			<dd><p>The scale by which to scale the captures screenshot</p></dd>
		</dl>
		
	</div>
	
	
	
	<div class="method-subsection return">
		<h4 class="method-subtitle parameter-title">Return Value</h4>
		<p>An NSImage of the window with <code>windowID</code>, scaled down by <code>scale</code>, or nil if capturing the screenshot failed for some reason.</p>
	</div>
	
	
	
	
	
	
	
	
	
	
	
	<div class="method-subsection declared-in-section">
		<h4 class="method-subtitle">Declared In</h4>
		<code class="declared-in-ref">KSScreenshotGrabber.m</code><br />
	</div>				
	
	
</div>
						
						<div class="section-method">
	<a name="//api/name/windowIDForAppName:" title="windowIDForAppName:"></a>
	<h3 class="subsubtitle method-title">windowIDForAppName:</h3>
	
	
	
	<div class="method-subsection brief-description">
		<p>Helper method that tries to identify the appropriate window ID for the given application name.
It iterates through the list of all windows and returns the first one whose owner is equal
to the given appName.
Since this is usually called from a getFocus event, the expected runtime is O(1),
because the window list is ordered front-to-back.
Sometimes, an applications front window will be the status bar icon - in this case, the search
will be continued until a larger window of the same application is found.
(Skype is an example of an application that requires this workaround.)
The attempt to retrieve the window ID will fail if the application doesn&rsquo;t have a window.
In this case, the runtime will be O(n), where n is the number of open windows.</p>
	</div>		
	
    

	<div class="method-subsection method-declaration"><code>+ (CGWindowID)windowIDForAppName:(NSString *)<em>appName</em></code></div>

    
	
	<div class="method-subsection arguments-section parameters">
		<h4 class="method-subtitle parameter-title">Parameters</h4>
		
		<dl class="argument-def parameter-def">
			<dt><em>appName</em></dt>
			<dd><p>The name of the application, it will be used to search through the window list.</p></dd>
		</dl>
		
	</div>
	
	
	
	<div class="method-subsection return">
		<h4 class="method-subtitle parameter-title">Return Value</h4>
		<p>The window ID of the frontmost window of the given application name, or 0 if no window belonging to the application with the given name has been found.</p>
	</div>
	
	
	
	
	
	
	
	
	
	
	
	<div class="method-subsection declared-in-section">
		<h4 class="method-subtitle">Declared In</h4>
		<code class="declared-in-ref">KSScreenshotGrabber.m</code><br />
	</div>				
	
	
</div>
						
					</div>
					
					
					
					
                    
                    
				</div>
				<div class="main-navigation navigation-bottom">
					<ul>
	<li><a href="../index.html">Index</a></li>
	<li><a href="../hierarchy.html">Hierarchy</a></li>
</ul>
				</div>
				<div id="footer">
					<hr />
					<div class="footer-copyright">
						<p><span class="copyright">&copy; 2014 David Ganster. All rights reserved. (Last updated: 2014-03-04)</span><br />
						
						<span class="generator">Generated by <a href="http://appledoc.gentlebytes.com">appledoc 2.2 (build 963)</a>.</span></p>
						
					</div>
				</div>
			</div>
		</article>
		<script type="text/javascript">
			function jumpToChange()
			{
				window.location.hash = this.options[this.selectedIndex].value;
			}
			
			function toggleTOC()
			{
				var contents = document.getElementById('contents');
				var tocContainer = document.getElementById('tocContainer');
				
				if (this.getAttribute('class') == 'open')
				{
					this.setAttribute('class', '');
					contents.setAttribute('class', '');
					tocContainer.setAttribute('class', '');
					
					window.name = "hideTOC";
				}
				else
				{
					this.setAttribute('class', 'open');
					contents.setAttribute('class', 'isShowingTOC');
					tocContainer.setAttribute('class', 'isShowingTOC');
					
					window.name = "";
				}
				return false;
			}
			
			function toggleTOCEntryChildren(e)
			{
				e.stopPropagation();
				var currentClass = this.getAttribute('class');
				if (currentClass == 'children') {
					this.setAttribute('class', 'children open');
				}
				else if (currentClass == 'children open') {
					this.setAttribute('class', 'children');
				}
				return false;
			}
			
			function tocEntryClick(e)
			{
				e.stopPropagation();
				return true;
			}
			
			function init()
			{
				var selectElement = document.getElementById('jumpTo');
				selectElement.addEventListener('change', jumpToChange, false);
				
				var tocButton = document.getElementById('table_of_contents');
				tocButton.addEventListener('click', toggleTOC, false);
				
				var taskTreeItem = document.getElementById('task_treeitem');
				if (taskTreeItem.getElementsByTagName('li').length > 0)
				{
					taskTreeItem.setAttribute('class', 'children');
					taskTreeItem.firstChild.setAttribute('class', 'disclosure');
				}
				
				var tocList = document.getElementById('toc');
				
				var tocEntries = tocList.getElementsByTagName('li');
				for (var i = 0; i < tocEntries.length; i++) {
					tocEntries[i].addEventListener('click', toggleTOCEntryChildren, false);
				}
				
				var tocLinks = tocList.getElementsByTagName('a');
				for (var i = 0; i < tocLinks.length; i++) {
					tocLinks[i].addEventListener('click', tocEntryClick, false);
				}
				
				if (window.name == "hideTOC") {
					toggleTOC.call(tocButton);
				}
			}
			
			window.onload = init;
			
			// If showing in Xcode, hide the TOC and Header
			if (navigator.userAgent.match(/xcode/i)) {
				document.getElementById("contents").className = "hideInXcode"
				document.getElementById("tocContainer").className = "hideInXcode"
				document.getElementById("top_header").className = "hideInXcode"
			}
			
		</script>
	</body>
</html>