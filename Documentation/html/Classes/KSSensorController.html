<!DOCTYPE HTML>
<html>
	<head>
		<meta http-equiv="Content-Type" content="html/html; charset=utf-8" />
		<title>KSSensorController Class Reference</title>
		<meta id="xcode-display" name="xcode-display" content="render"/>
		<link rel="stylesheet" type="text/css" href="../css/styles.css" media="all" />
		<link rel="stylesheet" type="text/css" media="print" href="../css/stylesPrint.css" />
		<meta name="generator" content="appledoc 2.2 (build 963)" />
	</head>
	<body>
		<header id="top_header">
			<div id="library" class="hideInXcode">
				<h1><a id="libraryTitle" href="../index.html">KnowSensor X </a></h1>
				<a id="developerHome" href="../index.html">David Ganster</a>
			</div>
			
			<div id="title" role="banner">
				<h1 class="hideInXcode">KSSensorController Class Reference</h1>
			</div>
			<ul id="headerButtons" role="toolbar">
				<li id="toc_button">
					<button aria-label="Show Table of Contents" role="checkbox" class="open" id="table_of_contents"><span class="disclosure"></span>Table of Contents</button>
				</li>
				<li id="jumpto_button" role="navigation">
					<select id="jumpTo">
	<option value="top">Jump To&#133;</option>
	
	<option value="overview">Overview</option>
	
	
	
	
	<option value="tasks">Tasks</option>
	
	
	
	
	
	<option value="properties">Properties</option>
	
	<option value="//api/name/eventBuffer">&nbsp;&nbsp;&nbsp;&nbsp;eventBuffer</option>
	
	<option value="//api/name/eventBufferQueue">&nbsp;&nbsp;&nbsp;&nbsp;eventBufferQueue</option>
	
	<option value="//api/name/eventFinishedBlocks">&nbsp;&nbsp;&nbsp;&nbsp;eventFinishedBlocks</option>
	
	<option value="//api/name/queueIsBeingEmptied">&nbsp;&nbsp;&nbsp;&nbsp;queueIsBeingEmptied</option>
	
	<option value="//api/name/sensors">&nbsp;&nbsp;&nbsp;&nbsp;sensors</option>
	
	<option value="//api/name/waitForReachability">&nbsp;&nbsp;&nbsp;&nbsp;waitForReachability</option>
	
	
	
	
	<option value="class_methods">Class Methods</option>
	
	<option value="//api/name/sharedSensorController">&nbsp;&nbsp;&nbsp;&nbsp;+ sharedSensorController</option>
	
	
	
	
	<option value="instance_methods">Instance Methods</option>
	
	<option value="//api/name/addEventBufferObject:withFinishedBlock:">&nbsp;&nbsp;&nbsp;&nbsp;- addEventBufferObject:withFinishedBlock:</option>
	
	<option value="//api/name/emptyQueue">&nbsp;&nbsp;&nbsp;&nbsp;- emptyQueue</option>
	
	<option value="//api/name/focusSensor:mappedNameForURL:">&nbsp;&nbsp;&nbsp;&nbsp;- focusSensor:mappedNameForURL:</option>
	
	<option value="//api/name/focusSensor:screenshotQualityForApplication:">&nbsp;&nbsp;&nbsp;&nbsp;- focusSensor:screenshotQualityForApplication:</option>
	
	<option value="//api/name/focusSensor:shouldRecordApplication:">&nbsp;&nbsp;&nbsp;&nbsp;- focusSensor:shouldRecordApplication:</option>
	
	<option value="//api/name/init">&nbsp;&nbsp;&nbsp;&nbsp;- init</option>
	
	<option value="//api/name/sensor:didRecordEvent:finished:">&nbsp;&nbsp;&nbsp;&nbsp;- sensor:didRecordEvent:finished:</option>
	
	<option value="//api/name/serverReachable">&nbsp;&nbsp;&nbsp;&nbsp;- serverReachable</option>
	
	<option value="//api/name/startRecordingEvents">&nbsp;&nbsp;&nbsp;&nbsp;- startRecordingEvents</option>
	
	<option value="//api/name/stopRecordingEventsFinished:">&nbsp;&nbsp;&nbsp;&nbsp;- stopRecordingEventsFinished:</option>
	
	
	
</select>
				</li>
			</ul>
		</header>
		<nav id="tocContainer" class="isShowingTOC">
			<ul id="toc" role="tree">
				
<li role="treeitem"><span class="nodisclosure"></span><span class="sectionName"><a href="#overview">Overview</a></span></li>




<li role="treeitem" id="task_treeitem"><span class="nodisclosure"></span><span class="sectionName"><a href="#tasks">Tasks</a></span><ul>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#task_KSFocusSensorDelegate methods">KSFocusSensorDelegate methods</a></span></li>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#task_Private methods">Private methods</a></span></li>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#task_Extension Methods">Extension Methods</a></span></li>
	
</ul></li>





<li role="treeitem" class="children"><span class="disclosure"></span><span class="sectionName"><a href="#properties">Properties</a></span><ul>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/eventBuffer">eventBuffer</a></span></li>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/eventBufferQueue">eventBufferQueue</a></span></li>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/eventFinishedBlocks">eventFinishedBlocks</a></span></li>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/queueIsBeingEmptied">queueIsBeingEmptied</a></span></li>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/sensors">sensors</a></span></li>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/waitForReachability">waitForReachability</a></span></li>
	
</ul></li>



<li role="treeitem" class="children"><span class="disclosure"></span><span class="sectionName"><a href="#class_methods">Class Methods</a></span><ul>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/sharedSensorController">sharedSensorController</a></span></li>
	
</ul></li>



<li role="treeitem" class="children"><span class="disclosure"></span><span class="sectionName"><a href="#instance_methods">Instance Methods</a></span><ul>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/addEventBufferObject:withFinishedBlock:">addEventBufferObject:withFinishedBlock:</a></span></li>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/emptyQueue">emptyQueue</a></span></li>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/focusSensor:mappedNameForURL:">focusSensor:mappedNameForURL:</a></span></li>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/focusSensor:screenshotQualityForApplication:">focusSensor:screenshotQualityForApplication:</a></span></li>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/focusSensor:shouldRecordApplication:">focusSensor:shouldRecordApplication:</a></span></li>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/init">init</a></span></li>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/sensor:didRecordEvent:finished:">sensor:didRecordEvent:finished:</a></span></li>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/serverReachable">serverReachable</a></span></li>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/startRecordingEvents">startRecordingEvents</a></span></li>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/stopRecordingEventsFinished:">stopRecordingEventsFinished:</a></span></li>
	
</ul></li>


			</ul>
		</nav>
		<article>
			<div id="contents" class="isShowingTOC" role="main">
				<a title="KSSensorController Class Reference" name="top"></a>
				<div class="main-navigation navigation-top">
					<ul>
	<li><a href="../index.html">Index</a></li>
	<li><a href="../hierarchy.html">Hierarchy</a></li>
</ul>
				</div>
				<div id="header">
					<div class="section-header">
						<h1 class="title title-header">KSSensorController Class Reference</h1>
					</div>		
				</div>
				<div id="container">	
					
					<div class="section section-specification"><table cellspacing="0"><tbody>
						<tr>
	<td class="specification-title">Inherits from</td>
	<td class="specification-value">NSObject</td>
</tr><tr>
	<td class="specification-title">Conforms to</td>
	<td class="specification-value"><a href="../Protocols/KSFocusSensorDelegate.html">KSFocusSensorDelegate</a><br /><a href="../Protocols/KSSensorDelegateProtocol.html">KSSensorDelegateProtocol</a></td>
</tr><tr>
	<td class="specification-title">Declared in</td>
	<td class="specification-value">KSSensorController.h<br />KSSensorController.m</td>
</tr>
						</tbody></table></div>
					
                    
                    
					
					<div class="section section-overview">
						<a title="Overview" name="overview"></a>
						<h2 class="subtitle subtitle-overview">Overview</h2>
						<p>Singleton class that manages all <a href="../Classes/KSSensor.html">KSSensor</a> objects, server interactions regarding events, and event buffers.
It provides a very limited interface to the outside, allowing other objects to start and stop recording events.
Starting and stopping the recording of events happens asynchronously, and stopping the recording provides
a finished-block for callbacks when all <a href="#//api/name/sensors">sensors</a> have successfully stopped recording.</p>
					</div>
					
					
					
					
					
					<div class="section section-tasks">
						<a title="Tasks" name="tasks"></a>
						<h2 class="subtitle subtitle-tasks">Tasks</h2>
						
						
						
						<h3 class="subsubtitle task-title">Other Methods</h3>

						<ul class="task-list">
							<li>
	<span class="tooltip">
		<code><a href="#//api/name/sensors">&nbsp;&nbsp;sensors</a></code>
	</span>
	<span class="task-item-suffix">property</span>
	
</li><li>
	<span class="tooltip">
		<code><a href="#//api/name/waitForReachability">&nbsp;&nbsp;waitForReachability</a></code>
	</span>
	<span class="task-item-suffix">property</span>
	
</li><li>
	<span class="tooltip">
		<code><a href="#//api/name/sharedSensorController">+&nbsp;sharedSensorController</a></code>
	</span>
	
	
</li><li>
	<span class="tooltip">
		<code><a href="#//api/name/startRecordingEvents">&ndash;&nbsp;startRecordingEvents</a></code>
	</span>
	
	
</li><li>
	<span class="tooltip">
		<code><a href="#//api/name/stopRecordingEventsFinished:">&ndash;&nbsp;stopRecordingEventsFinished:</a></code>
	</span>
	
	
</li>
						</ul>
						
						
						<a title="KSFocusSensorDelegate methods" name="task_KSFocusSensorDelegate methods"></a>
						<h3 class="subsubtitle task-title">KSFocusSensorDelegate methods</h3>

						<ul class="task-list">
							<li>
	<span class="tooltip">
		<code><a href="#//api/name/focusSensor:mappedNameForURL:">&ndash;&nbsp;focusSensor:mappedNameForURL:</a></code>
	</span>
	
	
</li><li>
	<span class="tooltip">
		<code><a href="#//api/name/focusSensor:shouldRecordApplication:">&ndash;&nbsp;focusSensor:shouldRecordApplication:</a></code>
	</span>
	
	
</li><li>
	<span class="tooltip">
		<code><a href="#//api/name/focusSensor:screenshotQualityForApplication:">&ndash;&nbsp;focusSensor:screenshotQualityForApplication:</a></code>
	</span>
	
	
</li><li>
	<span class="tooltip">
		<code><a href="#//api/name/sensor:didRecordEvent:finished:">&ndash;&nbsp;sensor:didRecordEvent:finished:</a></code>
	</span>
	
	
</li>
						</ul>
						
						
						<a title="Private methods" name="task_Private methods"></a>
						<h3 class="subsubtitle task-title">Private methods</h3>

						<ul class="task-list">
							<li>
	<span class="tooltip">
		<code><a href="#//api/name/init">&ndash;&nbsp;init</a></code>
	</span>
	
	
</li><li>
	<span class="tooltip">
		<code><a href="#//api/name/serverReachable">&ndash;&nbsp;serverReachable</a></code>
	</span>
	
	
</li><li>
	<span class="tooltip">
		<code><a href="#//api/name/addEventBufferObject:withFinishedBlock:">&ndash;&nbsp;addEventBufferObject:withFinishedBlock:</a></code>
	</span>
	
	
</li><li>
	<span class="tooltip">
		<code><a href="#//api/name/emptyQueue">&ndash;&nbsp;emptyQueue</a></code>
	</span>
	
	
</li>
						</ul>
						
						
						<a title="Extension Methods" name="task_Extension Methods"></a>
						<h3 class="subsubtitle task-title">Extension Methods</h3>

						<ul class="task-list">
							<li>
	<span class="tooltip">
		<code><a href="#//api/name/eventBufferQueue">&nbsp;&nbsp;eventBufferQueue</a></code>
	</span>
	<span class="task-item-suffix">property</span>
	
</li><li>
	<span class="tooltip">
		<code><a href="#//api/name/eventBuffer">&nbsp;&nbsp;eventBuffer</a></code>
	</span>
	<span class="task-item-suffix">property</span>
	
</li><li>
	<span class="tooltip">
		<code><a href="#//api/name/queueIsBeingEmptied">&nbsp;&nbsp;queueIsBeingEmptied</a></code>
	</span>
	<span class="task-item-suffix">property</span>
	
</li><li>
	<span class="tooltip">
		<code><a href="#//api/name/eventFinishedBlocks">&nbsp;&nbsp;eventFinishedBlocks</a></code>
	</span>
	<span class="task-item-suffix">property</span>
	
</li>
						</ul>
						
					</div>
					
					
					
					
					
					<div class="section section-methods">
						<a title="Properties" name="properties"></a>
						<h2 class="subtitle subtitle-methods">Properties</h2>
						
						<div class="section-method">
	<a name="//api/name/eventBuffer" title="eventBuffer"></a>
	<h3 class="subsubtitle method-title">eventBuffer</h3>
	
	
	
	<div class="method-subsection brief-description">
		<p>Used to store events until the server becomes reachable, and send them as soon as it becomes reachable again.
If the <a href="#//api/name/waitForReachability"><code>waitForReachability</code></a> flag is set to NO, the KSSensorDelegate will
immediately try to send the event again in the case of an error.</p>
	</div>		
	
    

	<div class="method-subsection method-declaration"><code>@property (nonatomic, strong) NSMutableArray *eventBuffer</code></div>

    
	
	
	
	
	
	
	
	
	
	
	
	
	
	<div class="method-subsection declared-in-section">
		<h4 class="method-subtitle">Declared In</h4>
		<code class="declared-in-ref">KSSensorController.m</code><br />
	</div>				
	
	
</div>
						
						<div class="section-method">
	<a name="//api/name/eventBufferQueue" title="eventBufferQueue"></a>
	<h3 class="subsubtitle method-title">eventBufferQueue</h3>
	
	
	
	<div class="method-subsection brief-description">
		<p>The queue which will be used to work on the <a href="#//api/name/eventBuffer">eventBuffer</a>.</p>
	</div>		
	
    

	<div class="method-subsection method-declaration"><code>@property (nonatomic, assign) dispatch_queue_t eventBufferQueue</code></div>

    
	
	
	
	
	
	
	
	
	
	
	
	
	
	<div class="method-subsection declared-in-section">
		<h4 class="method-subtitle">Declared In</h4>
		<code class="declared-in-ref">KSSensorController.m</code><br />
	</div>				
	
	
</div>
						
						<div class="section-method">
	<a name="//api/name/eventFinishedBlocks" title="eventFinishedBlocks"></a>
	<h3 class="subsubtitle method-title">eventFinishedBlocks</h3>
	
	
	
	<div class="method-subsection brief-description">
		<p>Finished-blocks can be stored per event -
these blocks will be stored in this dictionary and called once the call in question successfully returns.</p>
	</div>		
	
    

	<div class="method-subsection method-declaration"><code>@property (nonatomic, strong) NSMutableDictionary *eventFinishedBlocks</code></div>

    
	
	
	
	
	
	
	
	
	
	
	
	
	
	<div class="method-subsection declared-in-section">
		<h4 class="method-subtitle">Declared In</h4>
		<code class="declared-in-ref">KSSensorController.m</code><br />
	</div>				
	
	
</div>
						
						<div class="section-method">
	<a name="//api/name/queueIsBeingEmptied" title="queueIsBeingEmptied"></a>
	<h3 class="subsubtitle method-title">queueIsBeingEmptied</h3>
	
	
	
	<div class="method-subsection brief-description">
		<p>Flag that indicates that the queue is being emptied right now - meaning that the process is not going to be started again.
This flag is strictly meant for internal use, and has to be set (and read) on the <a href="#//api/name/eventBufferQueue">eventBufferQueue</a>.</p>
	</div>		
	
    

	<div class="method-subsection method-declaration"><code>@property (nonatomic, assign) BOOL queueIsBeingEmptied</code></div>

    
	
	
	
	
	
	
	
	
	
	
	
	
	
	<div class="method-subsection declared-in-section">
		<h4 class="method-subtitle">Declared In</h4>
		<code class="declared-in-ref">KSSensorController.m</code><br />
	</div>				
	
	
</div>
						
						<div class="section-method">
	<a name="//api/name/sensors" title="sensors"></a>
	<h3 class="subsubtitle method-title">sensors</h3>
	
	
	
	<div class="method-subsection brief-description">
		<p>Array of sensors currently held by the KSSensorController.</p>
	</div>		
	
    

	<div class="method-subsection method-declaration"><code>@property (nonatomic, strong, readonly) NSArray *sensors</code></div>

    
	
	
	
	
	
	
	
	
	
	
	
	
	
	<div class="method-subsection declared-in-section">
		<h4 class="method-subtitle">Declared In</h4>
		<code class="declared-in-ref">KSSensorController.h</code><br />
	</div>				
	
	
</div>
						
						<div class="section-method">
	<a name="//api/name/waitForReachability" title="waitForReachability"></a>
	<h3 class="subsubtitle method-title">waitForReachability</h3>
	
	
	
	<div class="method-subsection brief-description">
		<p>This flag indicates if the KSSensorDelegate will continuously try to empty its queue
or wait for a <code>ServerReachable</code> notification before retrying in case an error occurs.
Setting this flag to NO will result in higher CPU usage, should the connection to the
server be interrupted.
Defaults to YES.</p>
	</div>		
	
    

	<div class="method-subsection method-declaration"><code>@property (nonatomic, assign) BOOL waitForReachability</code></div>

    
	
	
	
	
	
	
	
	
	
	
	
	
	
	<div class="method-subsection declared-in-section">
		<h4 class="method-subtitle">Declared In</h4>
		<code class="declared-in-ref">KSSensorController.h</code><br />
	</div>				
	
	
</div>
						
					</div>
					
					
					
					<div class="section section-methods">
						<a title="Class Methods" name="class_methods"></a>
						<h2 class="subtitle subtitle-methods">Class Methods</h2>
						
						<div class="section-method">
	<a name="//api/name/sharedSensorController" title="sharedSensorController"></a>
	<h3 class="subsubtitle method-title">sharedSensorController</h3>
	
	
	
	<div class="method-subsection brief-description">
		<p>Accessor to the singleton object.</p>
	</div>		
	
    

	<div class="method-subsection method-declaration"><code>+ (KSSensorController *)sharedSensorController</code></div>

    
	
	
	
	
	
	
	
	
	
	
	
	
	
	<div class="method-subsection declared-in-section">
		<h4 class="method-subtitle">Declared In</h4>
		<code class="declared-in-ref">KSSensorController.h</code><br />
	</div>				
	
	
</div>
						
					</div>
					
					
					
					<div class="section section-methods">
						<a title="Instance Methods" name="instance_methods"></a>
						<h2 class="subtitle subtitle-methods">Instance Methods</h2>
						
						<div class="section-method">
	<a name="//api/name/addEventBufferObject:withFinishedBlock:" title="addEventBufferObject:withFinishedBlock:"></a>
	<h3 class="subsubtitle method-title">addEventBufferObject:withFinishedBlock:</h3>
	
	
	
	<div class="method-subsection brief-description">
		<p>Internal method.
This method ensures that the events are sent in the order they are submitted.
dispatch_async on a serial queue will enqueue the given operation at the end of
the queue, ensuring correct execution order.
(dispatch_async is equivalent to dispatch_barrier_async when used on a serial queue)</p>
	</div>		
	
    

	<div class="method-subsection method-declaration"><code>- (void)addEventBufferObject:(KSEvent *)<em>event</em> withFinishedBlock:(void ( ^ ) ( BOOL success ))<em>finished</em></code></div>

    
	
	<div class="method-subsection arguments-section parameters">
		<h4 class="method-subtitle parameter-title">Parameters</h4>
		
		<dl class="argument-def parameter-def">
			<dt><em>event</em></dt>
			<dd><p>The event to be added to the <a href="#//api/name/eventBuffer">eventBuffer</a>.</p></dd>
		</dl>
		
		<dl class="argument-def parameter-def">
			<dt><em>finished</em></dt>
			<dd><p>The block to be executed when the event has successfully been sent.</p></dd>
		</dl>
		
	</div>
	
	
	
	
	
	
	
	
	
	
	
	
	
	<div class="method-subsection declared-in-section">
		<h4 class="method-subtitle">Declared In</h4>
		<code class="declared-in-ref">KSSensorController.m</code><br />
	</div>				
	
	
</div>
						
						<div class="section-method">
	<a name="//api/name/emptyQueue" title="emptyQueue"></a>
	<h3 class="subsubtitle method-title">emptyQueue</h3>
	
	
	
	<div class="method-subsection brief-description">
		<p>Internal method.
Emptied the <a href="#//api/name/eventBuffer">eventBuffer</a> queue one by one, always removing the first (0th) element
of the array upon successful completion.
If a finished-block has been issued for the successfully sent event, it will be called and removed from the list.
In case of an error while sending the event, the <a href="#//api/name/waitForReachability"><code>waitForReachability</code></a> flag is checked.
If it evaluates to NO, the KSSensorController will immediately try sending the event again,
without waiting for reachability to change. This is useful when stopping the recording of events,
where we want to get our queue emptied as quickly as possible.
If <a href="#//api/name/waitForReachability"><code>waitForReachability</code></a> is YES, on the other hand, the process of emptying the
queue will be stopped until a <code>kKSNotificationKeyServerReachable</code> notification is received
or another event is added to the queue.</p>
	</div>		
	
    

	<div class="method-subsection method-declaration"><code>- (void)emptyQueue</code></div>

    
	
	
	
	
	
	
	
	
	
	
	
	
	
	<div class="method-subsection declared-in-section">
		<h4 class="method-subtitle">Declared In</h4>
		<code class="declared-in-ref">KSSensorController.m</code><br />
	</div>				
	
	
</div>
						
						<div class="section-method">
	<a name="//api/name/focusSensor:mappedNameForURL:" title="focusSensor:mappedNameForURL:"></a>
	<h3 class="subsubtitle method-title">focusSensor:mappedNameForURL:</h3>
	
	
	
	<div class="method-subsection brief-description">
		<p>Asks the focusDelegate for an alternative representation of the given URL,
which will be used in the recorded event.
This makes for a nicer representation in the Web Application.
If this method is not implemented or nil is returned,
the given URL will be used to represent the homepage.</p>
	</div>		
	
    

	<div class="method-subsection method-declaration"><code>- (NSString *)focusSensor:(KSFocusSensor *)<em>sensor</em> mappedNameForURL:(NSString *)<em>recordedURL</em></code></div>

    
	
	<div class="method-subsection arguments-section parameters">
		<h4 class="method-subtitle parameter-title">Parameters</h4>
		
		<dl class="argument-def parameter-def">
			<dt><em>sensor</em></dt>
			<dd><p>The <a href="../Classes/KSFocusSensor.html">KSFocusSensor</a> object that recorded the URL.</p></dd>
		</dl>
		
		<dl class="argument-def parameter-def">
			<dt><em>URL</em></dt>
			<dd><p>The URL that has been returned from the active browser.</p></dd>
		</dl>
		
	</div>
	
	
	
	<div class="method-subsection return">
		<h4 class="method-subtitle parameter-title">Return Value</h4>
		<p>The alternative representation of the given URL.</p>
	</div>
	
	
	
	
	
	
	
	
	
	
	
	<div class="method-subsection declared-in-section">
		<h4 class="method-subtitle">Declared In</h4>
		<code class="declared-in-ref">KSFocusSensor.h</code><br />
	</div>				
	
	
</div>
						
						<div class="section-method">
	<a name="//api/name/focusSensor:screenshotQualityForApplication:" title="focusSensor:screenshotQualityForApplication:"></a>
	<h3 class="subsubtitle method-title">focusSensor:screenshotQualityForApplication:</h3>
	
	
	
	<div class="method-subsection brief-description">
		<p>Asks the focusDelegate whether or not screenshots should be recorded for the given application.
This method is invoked when an application gets focus - and possibly when it loses focus as well,
should the first attempt to grab a screenshot have failed.</p>
	</div>		
	
    

	<div class="method-subsection method-declaration"><code>- (KSScreenshotQuality)focusSensor:(KSFocusSensor *)<em>sensor</em> screenshotQualityForApplication:(NSRunningApplication *)<em>application</em></code></div>

    
	
	<div class="method-subsection arguments-section parameters">
		<h4 class="method-subtitle parameter-title">Parameters</h4>
		
		<dl class="argument-def parameter-def">
			<dt><em>sensor</em></dt>
			<dd><p>The <a href="../Classes/KSFocusSensor.html">KSFocusSensor</a> object that wants to take screenshots.</p></dd>
		</dl>
		
		<dl class="argument-def parameter-def">
			<dt><em>application</em></dt>
			<dd><p>The application in question.</p></dd>
		</dl>
		
	</div>
	
	
	
	<div class="method-subsection return">
		<h4 class="method-subtitle parameter-title">Return Value</h4>
		<p>YES if the sensor should record a screenshot for this application.</p>
	</div>
	
	
	
	
	
	
	
	
	
	
	
	<div class="method-subsection declared-in-section">
		<h4 class="method-subtitle">Declared In</h4>
		<code class="declared-in-ref">KSFocusSensor.h</code><br />
	</div>				
	
	
</div>
						
						<div class="section-method">
	<a name="//api/name/focusSensor:shouldRecordApplication:" title="focusSensor:shouldRecordApplication:"></a>
	<h3 class="subsubtitle method-title">focusSensor:shouldRecordApplication:</h3>
	
	
	
	<div class="method-subsection brief-description">
		<p>Asks the focusDelegate whether or not a specific application should be recorded.
This method is invoked for every application on both getting and losing focus.
If this method is not implemented, the sensor will assume &lsquo;YES&rsquo;.</p>
	</div>		
	
    

	<div class="method-subsection method-declaration"><code>- (BOOL)focusSensor:(KSFocusSensor *)<em>sensor</em> shouldRecordApplication:(NSRunningApplication *)<em>application</em></code></div>

    
	
	<div class="method-subsection arguments-section parameters">
		<h4 class="method-subtitle parameter-title">Parameters</h4>
		
		<dl class="argument-def parameter-def">
			<dt><em>sensor</em></dt>
			<dd><p>The <a href="../Classes/KSFocusSensor.html">KSFocusSensor</a> object that recorded the application.</p></dd>
		</dl>
		
		<dl class="argument-def parameter-def">
			<dt><em>application</em></dt>
			<dd><p>The application in question.</p></dd>
		</dl>
		
	</div>
	
	
	
	<div class="method-subsection return">
		<h4 class="method-subtitle parameter-title">Return Value</h4>
		<p>YES if the sensor should create a <a href="../Classes/KSFocusEvent.html">KSFocusEvent</a> and invoke the sensor:didRecordEvent: method on its delegate.</p>
	</div>
	
	
	
	
	
	<div class="method-subsection discussion-section">
		<h4 class="method-subtitle">Discussion</h4>
		<div class="note"><p><strong>Note:</strong> This method will be called on a background thread.</p></div>
	</div>
	
	
	
	
	
	
	
	<div class="method-subsection declared-in-section">
		<h4 class="method-subtitle">Declared In</h4>
		<code class="declared-in-ref">KSFocusSensor.h</code><br />
	</div>				
	
	
</div>
						
						<div class="section-method">
	<a name="//api/name/init" title="init"></a>
	<h3 class="subsubtitle method-title">init</h3>
	
	
	
	<div class="method-subsection brief-description">
		<p>Internal method.
Designated initializer.</p>
	</div>		
	
    

	<div class="method-subsection method-declaration"><code>- (id)init</code></div>

    
	
	
	
	<div class="method-subsection return">
		<h4 class="method-subtitle parameter-title">Return Value</h4>
		<p>The new, fully initialized KSSensorController.</p>
	</div>
	
	
	
	
	
	<div class="method-subsection discussion-section">
		<h4 class="method-subtitle">Discussion</h4>
		<div class="warning"><p><strong>Warning:</strong> Do not create a KSSensorController on your own. Use the singleton acessor (<a href="#//api/name/sharedSensorController"><code>sharedSensorController</code></a>) instead.</p></div>
	</div>
	
	
	
	
	
	
	
	<div class="method-subsection declared-in-section">
		<h4 class="method-subtitle">Declared In</h4>
		<code class="declared-in-ref">KSSensorController.m</code><br />
	</div>				
	
	
</div>
						
						<div class="section-method">
	<a name="//api/name/sensor:didRecordEvent:finished:" title="sensor:didRecordEvent:finished:"></a>
	<h3 class="subsubtitle method-title">sensor:didRecordEvent:finished:</h3>
	
	
	
	<div class="method-subsection brief-description">
		<p>Indicates to the receiver that a sensor has recorded an event.
The <code>finished</code> block might be necessary if some part of the application relies on synchronization of events.</p>
	</div>		
	
    

	<div class="method-subsection method-declaration"><code>- (void)sensor:(KSSensor *)<em>sensor</em> didRecordEvent:(KSEvent *)<em>event</em> finished:(void ( ^ ) ( BOOL success ))<em>finished</em></code></div>

    
	
	<div class="method-subsection arguments-section parameters">
		<h4 class="method-subtitle parameter-title">Parameters</h4>
		
		<dl class="argument-def parameter-def">
			<dt><em>sensor</em></dt>
			<dd><p>The sensor that generated the event.</p></dd>
		</dl>
		
		<dl class="argument-def parameter-def">
			<dt><em>event</em></dt>
			<dd><p>The event that was recorded by the sensor.</p></dd>
		</dl>
		
		<dl class="argument-def parameter-def">
			<dt><em>finished</em></dt>
			<dd><p>The block to be executed when the delegate finished processing the event.</p></dd>
		</dl>
		
	</div>
	
	
	
	
	
	
	
	<div class="method-subsection discussion-section">
		<h4 class="method-subtitle">Discussion</h4>
		<div class="note"><p><strong>Note:</strong> The implementing class must be prepared to handle cases in which <code>finished</code> is nil.</p></div>
	</div>
	
	
	
	
	
	
	
	<div class="method-subsection declared-in-section">
		<h4 class="method-subtitle">Declared In</h4>
		<code class="declared-in-ref">KSSensor.h</code><br />
	</div>				
	
	
</div>
						
						<div class="section-method">
	<a name="//api/name/serverReachable" title="serverReachable"></a>
	<h3 class="subsubtitle method-title">serverReachable</h3>
	
	
	
	<div class="method-subsection brief-description">
		<p>Internal method.
It is called upon receiving a kKSNotificationKeyServerReachable notification.
If the <a href="#//api/name/eventBuffer">eventBuffer</a> is not being emptied right now, this will start emptying the queue.
This behaviour is useful when waiting for the server to become reachable, and then sending
all events that have been queued up.</p>
	</div>		
	
    

	<div class="method-subsection method-declaration"><code>- (void)serverReachable</code></div>

    
	
	
	
	
	
	
	
	
	
	
	
	
	
	<div class="method-subsection declared-in-section">
		<h4 class="method-subtitle">Declared In</h4>
		<code class="declared-in-ref">KSSensorController.m</code><br />
	</div>				
	
	
</div>
						
						<div class="section-method">
	<a name="//api/name/startRecordingEvents" title="startRecordingEvents"></a>
	<h3 class="subsubtitle method-title">startRecordingEvents</h3>
	
	
	
	<div class="method-subsection brief-description">
		<p>Tells all <a href="#//api/name/sensors">sensors</a> in <a href="#//api/name/sensors"><code>sensors</code></a> to register for events.</p>
	</div>		
	
    

	<div class="method-subsection method-declaration"><code>- (BOOL)startRecordingEvents</code></div>

    
	
	
	
	<div class="method-subsection return">
		<h4 class="method-subtitle parameter-title">Return Value</h4>
		<p>YES iff all <a href="#//api/name/sensors">sensors</a> returned YES when asked to start recording events.</p>
	</div>
	
	
	
	
	
	
	
	
	
	
	
	<div class="method-subsection declared-in-section">
		<h4 class="method-subtitle">Declared In</h4>
		<code class="declared-in-ref">KSSensorController.h</code><br />
	</div>				
	
	
</div>
						
						<div class="section-method">
	<a name="//api/name/stopRecordingEventsFinished:" title="stopRecordingEventsFinished:"></a>
	<h3 class="subsubtitle method-title">stopRecordingEventsFinished:</h3>
	
	
	
	<div class="method-subsection brief-description">
		<p>Tells all <a href="#//api/name/sensors">sensors</a> in <a href="#//api/name/sensors"><code>sensors</code></a> to unregister for events.
Since this operation is asynchronous (<a href="#//api/name/sensors">sensors</a> might need to wait
for events to be processed on another thread), it will return immediately.
To compensate, the given block will be executed once all <a href="#//api/name/sensors">sensors</a> have finished unsubscribing from events.</p>
	</div>		
	
    

	<div class="method-subsection method-declaration"><code>- (void)stopRecordingEventsFinished:(void ( ^ ) ( BOOL successful ))<em>finished</em></code></div>

    
	
	<div class="method-subsection arguments-section parameters">
		<h4 class="method-subtitle parameter-title">Parameters</h4>
		
		<dl class="argument-def parameter-def">
			<dt><em>finished</em></dt>
			<dd><p>The block to be executed when all <a href="#//api/name/sensors">sensors</a> are done unsubscribing.</p></dd>
		</dl>
		
	</div>
	
	
	
	
	
	
	
	
	
	
	
	
	
	<div class="method-subsection declared-in-section">
		<h4 class="method-subtitle">Declared In</h4>
		<code class="declared-in-ref">KSSensorController.h</code><br />
	</div>				
	
	
</div>
						
					</div>
					
					
                    
                    
				</div>
				<div class="main-navigation navigation-bottom">
					<ul>
	<li><a href="../index.html">Index</a></li>
	<li><a href="../hierarchy.html">Hierarchy</a></li>
</ul>
				</div>
				<div id="footer">
					<hr />
					<div class="footer-copyright">
						<p><span class="copyright">&copy; 2014 David Ganster. All rights reserved. (Last updated: 2014-03-04)</span><br />
						
						<span class="generator">Generated by <a href="http://appledoc.gentlebytes.com">appledoc 2.2 (build 963)</a>.</span></p>
						
					</div>
				</div>
			</div>
		</article>
		<script type="text/javascript">
			function jumpToChange()
			{
				window.location.hash = this.options[this.selectedIndex].value;
			}
			
			function toggleTOC()
			{
				var contents = document.getElementById('contents');
				var tocContainer = document.getElementById('tocContainer');
				
				if (this.getAttribute('class') == 'open')
				{
					this.setAttribute('class', '');
					contents.setAttribute('class', '');
					tocContainer.setAttribute('class', '');
					
					window.name = "hideTOC";
				}
				else
				{
					this.setAttribute('class', 'open');
					contents.setAttribute('class', 'isShowingTOC');
					tocContainer.setAttribute('class', 'isShowingTOC');
					
					window.name = "";
				}
				return false;
			}
			
			function toggleTOCEntryChildren(e)
			{
				e.stopPropagation();
				var currentClass = this.getAttribute('class');
				if (currentClass == 'children') {
					this.setAttribute('class', 'children open');
				}
				else if (currentClass == 'children open') {
					this.setAttribute('class', 'children');
				}
				return false;
			}
			
			function tocEntryClick(e)
			{
				e.stopPropagation();
				return true;
			}
			
			function init()
			{
				var selectElement = document.getElementById('jumpTo');
				selectElement.addEventListener('change', jumpToChange, false);
				
				var tocButton = document.getElementById('table_of_contents');
				tocButton.addEventListener('click', toggleTOC, false);
				
				var taskTreeItem = document.getElementById('task_treeitem');
				if (taskTreeItem.getElementsByTagName('li').length > 0)
				{
					taskTreeItem.setAttribute('class', 'children');
					taskTreeItem.firstChild.setAttribute('class', 'disclosure');
				}
				
				var tocList = document.getElementById('toc');
				
				var tocEntries = tocList.getElementsByTagName('li');
				for (var i = 0; i < tocEntries.length; i++) {
					tocEntries[i].addEventListener('click', toggleTOCEntryChildren, false);
				}
				
				var tocLinks = tocList.getElementsByTagName('a');
				for (var i = 0; i < tocLinks.length; i++) {
					tocLinks[i].addEventListener('click', tocEntryClick, false);
				}
				
				if (window.name == "hideTOC") {
					toggleTOC.call(tocButton);
				}
			}
			
			window.onload = init;
			
			// If showing in Xcode, hide the TOC and Header
			if (navigator.userAgent.match(/xcode/i)) {
				document.getElementById("contents").className = "hideInXcode"
				document.getElementById("tocContainer").className = "hideInXcode"
				document.getElementById("top_header").className = "hideInXcode"
			}
			
		</script>
	</body>
</html>